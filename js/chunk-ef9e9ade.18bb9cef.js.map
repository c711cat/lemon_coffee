{"version":3,"sources":["webpack:///./src/views/Manager/Home.vue","webpack:///./src/views/Manager/Home.vue?e0bf","webpack:///./src/views/Manager/Home.vue?4857","webpack:///./node_modules/mitt/dist/mitt.mjs","webpack:///./src/methods/emitter.js"],"names":["class","isLoading","type","toAddProduct","products","showEditButton","disableDrag","data","components","CleanBeanList","Loading","inject","methods","getProducts","api","headers","Authorization","get","this","a","then","response","catch","$router","push","finally","created","emitter","on","__exports__","render","all","n","Map","t","e","i","set","off","splice","indexOf","emit","slice","map","mitt"],"mappings":"kJAEcA,MAAM,iB,GACXA,MAAM,qB,+HAFE,EAAAC,W,yBAAf,yBAA4B,a,yBAC5B,gCAYM,MAZN,EAYM,CAXJ,gCAIM,MAJN,EAIM,CAHJ,gCAES,UAFDC,KAAK,SAASF,MAAM,UAAW,QAAK,0DAAU,EAAAG,cAAA,EAAAA,aAAA,qBAAY,eAAE,YAItE,yBAKgB,GAJbC,SAAU,EAAAA,SACVC,eAAgB,EAAAA,eAChBC,YAAa,EAAAA,a,iKAaL,GACbC,KADa,WAEX,MAAO,CACLH,SAAU,GACVC,gBAAgB,EAChBC,aAAa,EACbL,WAAW,IAGfO,WAAY,CACVC,gBAAA,KACAC,UAAA,MAEFC,OAAQ,CAAC,WACTC,QAAS,CACPC,YADO,WACO,WACNC,EAAE,UAAO,qCAAP,mBACFC,EAAU,CAAEC,cAAe,IAAQC,IAAI,eAC7CC,KAAKjB,WAAY,EACjB,EAAAkB,EACGF,IAAIH,EAAK,CAAEC,YACXK,MAAK,SAACC,GACL,EAAKjB,SAAL,eAAoBiB,EAASd,SAE9Be,OAAM,WACL,EAAKC,QAAQC,KAAK,sBAEnBC,SAAQ,WACP,EAAKxB,WAAY,MAGvBE,aAjBO,WAkBLe,KAAKK,QAAQC,KAAK,yBAGtBE,QAnCa,WAmCH,WACJ,IAAQT,IAAI,cACdC,KAAKL,cAELK,KAAKK,QAAQC,KAAK,mBAEpBG,EAAA,KAAQC,GAAG,mBAAmB,WAC5B,EAAKf,mB,iCC3DX,MAAMgB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W,yDCAe,kBAAY,MAAM,CAACC,IAAIC,EAAEA,GAAG,IAAIC,IAAIL,GAAG,SAASM,EAAEC,GAAG,IAAIC,EAAEJ,EAAEf,IAAIiB,GAAGE,EAAEA,EAAEZ,KAAKW,GAAGH,EAAEK,IAAIH,EAAE,CAACC,KAAKG,IAAI,SAASJ,EAAEC,GAAG,IAAIC,EAAEJ,EAAEf,IAAIiB,GAAGE,IAAID,EAAEC,EAAEG,OAAOH,EAAEI,QAAQL,KAAK,EAAE,GAAGH,EAAEK,IAAIH,EAAE,MAAMO,KAAK,SAASP,EAAEC,GAAG,IAAIC,EAAEJ,EAAEf,IAAIiB,GAAGE,GAAGA,EAAEM,QAAQC,KAAI,SAASX,GAAGA,EAAEG,OAAMC,EAAEJ,EAAEf,IAAI,OAAOmB,EAAEM,QAAQC,KAAI,SAASX,GAAGA,EAAEE,EAAEC,SCC7SR,EAAUiB,IACDjB","file":"js/chunk-ef9e9ade.18bb9cef.js","sourcesContent":["<template>\n  <Loading v-if=\"isLoading\" />\n  <div v-else class=\"products-wrap\">\n    <div class=\"add-btn-container\">\n      <button type=\"button\" class=\"add-btn\" @click.prevent=\"toAddProduct\">\n        新增產品\n      </button>\n    </div>\n    <CleanBeanList\n      :products=\"products\"\n      :showEditButton=\"showEditButton\"\n      :disableDrag=\"disableDrag\"\n    >\n    </CleanBeanList>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CleanBeanList from \"@/components/CleanBeanList.vue\";\nimport emitter from \"@/methods/emitter.js\";\nimport Cookies from \"js-cookie\";\nimport Loading from \"@/components/Loading.vue\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      showEditButton: true,\n      disableDrag: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    CleanBeanList,\n    Loading,\n  },\n  inject: [\"emitter\"],\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}/admin/products`;\n      const headers = { Authorization: Cookies.get(\"lemonToken\") };\n      this.isLoading = true;\n      axios\n        .get(api, { headers })\n        .then((response) => {\n          this.products = [...response.data];\n        })\n        .catch(() => {\n          this.$router.push(\"/entrance/login\");\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    toAddProduct() {\n      this.$router.push(\"/admin/products/new\");\n    },\n  },\n  created() {\n    if (Cookies.get(\"lemonToken\")) {\n      this.getProducts();\n    } else {\n      this.$router.push(\"/entrance/login\");\n    }\n    emitter.on(\"refreshBeanList\", () => {\n      this.getProducts();\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n* {\n  box-sizing: border-box;\n  font-family: system-ui;\n}\n\n.products-wrap {\n  max-width: 1200px;\n  margin: auto;\n}\n\n.add-btn-container {\n  display: flex;\n  flex-direction: row-reverse;\n}\n\n.add-btn {\n  background: #2185d0;\n  padding: 10px 15px;\n  border-radius: 3px;\n  font-size: 16px;\n  color: #fff;\n  border: 1px solid #2185d0;\n  margin-right: 15px;\n  margin-top: 15px;\n  cursor: pointer;\n}\n\n.add-btn:hover {\n  background: #1678c2;\n}\n</style>\n","import { render } from \"./Home.vue?vue&type=template&id=08b9f638&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=08b9f638&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\homework\\\\practice\\\\lemon_coffee\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-08b9f638\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=08b9f638&lang=scss&scoped=true\"","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\";\nconst emitter = mitt();\nexport default emitter;"],"sourceRoot":""}