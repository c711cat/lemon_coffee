(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32d12628"],{3463:function(e,t,o){},"3a5e":function(e,t,o){"use strict";var n=o("7a23"),r={style:{height:"820px"},class:"p-d-flex p-jc-center p-ai-center"},c=Object(n["createElementVNode"])("div",{class:"p-text-center"},"讀取中...",-1);function a(e,t){var o=Object(n["resolveComponent"])("ProgressSpinner");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(o),c])])}o("f7bc");var i=o("6b0d"),s=o.n(i);const l={},d=s()(l,[["render",a]]);t["a"]=d},"408a":function(e,t){var o=1..valueOf;e.exports=function(e){return o.call(e)}},"45d4":function(e,t,o){"use strict";o.r(t);o("b0c0"),o("a4d3"),o("e01a");var n=o("7a23"),r=function(e){return Object(n["pushScopeId"])("data-v-2934536f"),e=e(),Object(n["popScopeId"])(),e},c={key:1},a={key:0},i={key:1,class:"p-grid nested-grid wrap p-my-4 p-mx-auto"},s={class:"p-col-12 p-lg-5"},l=["src"],d={class:"p-col-12 p-lg-7"},p={class:"p-grid p-px-3"},u={class:"p-col-12"},b={class:"p-col-12 p-text-bold price-size"},f={key:0,class:"p-col-12 p-mt-7"},m={class:"p-col-12 p-mt-7 p-pt-0"},O={class:"p-col-fixes p-fluid p-ml-2",style:{width:"202px"}},g={class:"p-col-12"},h={class:"p-col-11 p-lg-12 bean-details-container p-my-3 p-mx-auto"},v={class:"p-grid p-m-0 p-pb-2 p-text-bold p-pt-3 p-px-6"},j={class:"p-col-12 p-lg-8"},y=r((function(){return Object(n["createElementVNode"])("hr",{class:"p-mx-6 hr-style"},null,-1)})),E={class:"p-grid p-m-0 p-py-2 p-px-6"},N=r((function(){return Object(n["createElementVNode"])("div",{class:"p-col-5 p-lg-2 p-text-bold"},"國家",-1)})),V={class:"p-col-7 p-lg-4"},k=r((function(){return Object(n["createElementVNode"])("div",{class:"p-col-5 p-lg-2 p-text-bold"},"產區",-1)})),C={class:"p-col-7 p-lg-4"},_=r((function(){return Object(n["createElementVNode"])("div",{class:"p-col-5 p-lg-2 p-text-bold"},"品種",-1)})),T={class:"p-col-7 p-lg-4"},x=r((function(){return Object(n["createElementVNode"])("div",{class:"p-col-5 p-lg-2 p-text-bold"},"處理法",-1)})),S={class:"p-col-7 p-lg-4"},I=r((function(){return Object(n["createElementVNode"])("div",{class:"p-col-12 p-lg-2 p-text-bold"},"風味描述",-1)})),w={class:"p-col-12 p-lg-10"};function B(e,t,o,r,B,L){var A=Object(n["resolveComponent"])("Loading"),R=Object(n["resolveComponent"])("SelectButton"),D=Object(n["resolveComponent"])("InputNumber"),$=Object(n["resolveComponent"])("ProgressSpinner"),P=Object(n["resolveComponent"])("Button"),X=Object(n["resolveComponent"])("Roast");return B.isLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(A,{key:0})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[B.is_error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,"無此商品")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("img",{class:"product-image p-d-block p-mx-auto",src:B.product.image_url},null,8,l)]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("h3",u,Object(n["toDisplayString"])(B.product.name),1),Object(n["createElementVNode"])("div",b,"NT$ "+Object(n["toDisplayString"])(L.unitPrice),1),L.isShowGroundOption?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",f,[Object(n["createVNode"])(R,{modelValue:B.ground,"onUpdate:modelValue":t[0]||(t[0]=function(e){return B.ground=e}),options:B.groundOfOptions,optionValue:"value",optionLabel:"label",class:"selected"},null,8,["modelValue","options"])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(R,{modelValue:B.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return B.type=e}),options:B.typeOfOptions,optionValue:"value",optionLabel:"label",class:"selected"},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(D,{modelValue:B.qty,"onUpdate:modelValue":t[2]||(t[2]=function(e){return B.qty=e}),class:"p-inputtext-sm",min:1,showButtons:"",buttonLayout:"horizontal",incrementButtonClass:"p-button-outlined",decrementButtonClass:"p-button-outlined",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",g,[Object(n["createVNode"])(P,{disabled:B.btnIsLoading,label:"加入購物車",class:"p-button-raised p-col-12 p-lg-5",onClick:Object(n["withModifiers"])(L.addToCart,["prevent"])},{default:Object(n["withCtx"])((function(){return[B.btnIsLoading?(Object(n["openBlock"])(),Object(n["createBlock"])($,{key:0,style:{width:"20px",height:"20px"},strokeWidth:"8",animationDuration:"10s"})):Object(n["createCommentVNode"])("",!0)]})),_:1},8,["disabled","onClick"])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",j,Object(n["toDisplayString"])(B.product.name),1),Object(n["createVNode"])(X,{roast:B.product.roast,class:"p-col-12 p-lg-4"},null,8,["roast"])]),y,Object(n["createElementVNode"])("div",E,[N,Object(n["createElementVNode"])("div",V,Object(n["toDisplayString"])(B.product.country),1),k,Object(n["createElementVNode"])("div",C,Object(n["toDisplayString"])(B.product.area),1),_,Object(n["createElementVNode"])("div",T,Object(n["toDisplayString"])(B.product.variety),1),x,Object(n["createElementVNode"])("div",S,Object(n["toDisplayString"])(B.product.processing_method),1),I,Object(n["createElementVNode"])("div",w,Object(n["toDisplayString"])(B.product.description),1)])])]))]))}var L=o("5530"),A=(o("99af"),o("d3b7"),o("bc3a")),R=o.n(A),D=o("852e"),$=o.n(D),P=o("76bd"),X=o("3a5e"),q={data:function(){return{product:{name:"",id:0,roast:1},typeOfOptions:[{value:"half_pound",label:"半磅"},{value:"one_pound",label:"一磅"},{value:"drip_bag",label:"耳掛"}],groundOfOptions:[{value:!0,label:"磨粉"},{value:!1,label:"原豆"}],qty:1,type:"half_pound",ground:!0,is_error:!1,isLoading:!1,btnIsLoading:!1}},components:{Roast:P["a"],Loading:X["a"]},inject:["emitter"],methods:{getProduct:function(){var e=this,t="".concat("https://lemon-coffee.herokuapp.com","/products/").concat(this.$route.params.id);this.isLoading=!0,R.a.get(t).then((function(t){e.product=Object(L["a"])({},t.data)})).catch((function(){e.is_error=!e.is_error})).finally((function(){e.isLoading=!1}))},addToCart:function(){var e=this;"drip_bag"===this.type&&(this.ground=!0);var t={product_id:this.product.id,package_type:this.type,quantity:this.qty,ground:this.ground},o="".concat("https://lemon-coffee.herokuapp.com","/users/cart_items"),n={Authorization:$.a.get("lemonToken")};this.btnIsLoading=!0,R.a.post(o,{cart_item:t},{headers:n}).then((function(t){200===t.status&&(e.showSuccessToast("已加入購物車"),e.getCart())})).catch((function(t){401===t.response.status&&($.a.remove("lemonToken"),e.showErrorToast("請重新登入"),e.$router.push("/entrance/login"),e.emitter.emit("changeCartBadgeCount",0)),t.response.data.quantity&&e.showErrorToast("最小購買量為 1"),t.response.data.product&&e.showErrorToast("此商品不存在")})).finally((function(){e.btnIsLoading=!1}))},showErrorToast:function(e){this.$toast.add({severity:"error",summary:e,life:5e3})},showSuccessToast:function(e){this.$toast.add({severity:"success",summary:e,life:2e3})},getCart:function(){var e=this,t="".concat("https://lemon-coffee.herokuapp.com","/users/cart_items"),o={Authorization:$.a.get("lemonToken")};R.a.get(t,{headers:o}).then((function(t){200===t.status&&e.emitter.emit("changeCartBadgeCount",t.data.length)})).catch((function(t){401===t.response.status&&($.a.remove("lemonToken"),e.showErrorToast("請重新登入"),e.$router.push("/entrance/login"),e.emitter.emit("changeCartBadgeCount",0))}))}},computed:{unitPrice:function(){var e=0;return"drip_bag"===this.type&&(e=this.product.drip_bag_price),"half_pound"===this.type&&(e=this.product.half_pound_price),"one_pound"===this.type&&(e=this.product.one_pound_price),e},isShowGroundOption:function(){return"drip_bag"!==this.type}},created:function(){this.getProduct()}},F=(o("b012"),o("6b0d")),M=o.n(F);const z=M()(q,[["render",B],["__scopeId","data-v-2934536f"]]);t["default"]=z},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,o){var n=o("1d80"),r=o("577e"),c=o("5899"),a="["+c+"]",i=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(e){return function(t){var o=r(n(t));return 1&e&&(o=o.replace(i,"")),2&e&&(o=o.replace(s,"")),o}};e.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(e,t,o){var n=o("1626"),r=o("861d"),c=o("d2bb");e.exports=function(e,t,o){var a,i;return c&&n(a=t.constructor)&&a!==o&&r(i=a.prototype)&&i!==o.prototype&&c(e,i),e}},"76bd":function(e,t,o){"use strict";var n=o("7a23"),r={class:"roast-wrap"},c={class:"level-title"};function a(e,t,o,a,i,s){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",c,Object(n["toDisplayString"])(s.roastText),1),(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])([1,2,3,4,5],(function(e){return Object(n["createElementVNode"])("div",{key:e},[Object(n["createElementVNode"])("div",{class:"round",style:Object(n["normalizeStyle"])(s.roundStyle(e))},null,4)])})),64))])}o("a9e3");var i={1:{TEXT:"淺焙",COLOR:"#e1d8d6"},2:{TEXT:"中淺焙",COLOR:"#c3b1ab"},3:{TEXT:"中焙",COLOR:"#a58a82"},4:{TEXT:"中深焙",COLOR:"#886358"},5:{TEXT:"深焙",COLOR:"#6b3c2e"}},s={props:{roast:{type:Number,require:!0}},computed:{roastText:function(){return i[this.roast].TEXT},roastColor:function(){return i[this.roast].COLOR}},methods:{roundStyle:function(e){return e<=this.roast?{"background-color":this.roastColor}:{border:"solid 1px ".concat(this.roastColor)}}}},l=(o("a282"),o("6b0d")),d=o.n(l);const p=d()(s,[["render",a],["__scopeId","data-v-a749c650"]]);t["a"]=p},"99af":function(e,t,o){"use strict";var n=o("23e7"),r=o("d039"),c=o("e8b5"),a=o("861d"),i=o("7b0b"),s=o("07fa"),l=o("8418"),d=o("65f0"),p=o("1dde"),u=o("b622"),b=o("2d00"),f=u("isConcatSpreadable"),m=9007199254740991,O="Maximum allowed index exceeded",g=b>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=p("concat"),v=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:c(e)},j=!g||!h;n({target:"Array",proto:!0,forced:j},{concat:function(e){var t,o,n,r,c,a=i(this),p=d(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(c=-1===t?a:arguments[t],v(c)){if(r=s(c),u+r>m)throw TypeError(O);for(o=0;o<r;o++,u++)o in c&&l(p,u,c[o])}else{if(u>=m)throw TypeError(O);l(p,u++,c)}return p.length=u,p}})},a282:function(e,t,o){"use strict";o("bf80")},a9e3:function(e,t,o){"use strict";var n=o("83ab"),r=o("da84"),c=o("94ca"),a=o("6eeb"),i=o("1a2d"),s=o("7156"),l=o("d9b5"),d=o("c04e"),p=o("d039"),u=o("241c").f,b=o("06cf").f,f=o("9bf2").f,m=o("408a"),O=o("58a8").trim,g="Number",h=r[g],v=h.prototype,j=function(e){var t=d(e,"number");return"bigint"===typeof t?t:y(t)},y=function(e){var t,o,n,r,c,a,i,s,p=d(e,"number");if(l(p))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof p&&p.length>2)if(p=O(p),t=p.charCodeAt(0),43===t||45===t){if(o=p.charCodeAt(2),88===o||120===o)return NaN}else if(48===t){switch(p.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+p}for(c=p.slice(2),a=c.length,i=0;i<a;i++)if(s=c.charCodeAt(i),s<48||s>r)return NaN;return parseInt(c,n)}return+p};if(c(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var E,N=function(e){var t=arguments.length<1?0:h(j(e)),o=this;return o instanceof N&&p((function(){m(o)}))?s(Object(t),o,N):t},V=n?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;V.length>k;k++)i(h,E=V[k])&&!i(N,E)&&f(N,E,b(h,E));N.prototype=v,v.constructor=N,a(r,g,N)}},b012:function(e,t,o){"use strict";o("3463")},bf80:function(e,t,o){},cb37:function(e,t,o){},e01a:function(e,t,o){"use strict";var n=o("23e7"),r=o("83ab"),c=o("da84"),a=o("1a2d"),i=o("1626"),s=o("861d"),l=o("9bf2").f,d=o("e893"),p=c.Symbol;if(r&&i(p)&&(!("description"in p.prototype)||void 0!==p().description)){var u={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new p(e):void 0===e?p():p(e);return""===e&&(u[t]=!0),t};d(b,p);var f=b.prototype=p.prototype;f.constructor=b;var m=f.toString,O="Symbol(test)"==String(p("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(a(u,e))return"";var o=O?t.slice(7,-1):t.replace(g,"$1");return""===o?void 0:o}}),n({global:!0,forced:!0},{Symbol:b})}},f7bc:function(e,t,o){"use strict";o("cb37")}}]);
//# sourceMappingURL=chunk-32d12628.b7268119.js.map