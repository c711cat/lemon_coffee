(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fda77f9e"],{"99af":function(t,e,o){"use strict";var n=o("23e7"),r=o("d039"),a=o("e8b5"),c=o("861d"),s=o("7b0b"),i=o("07fa"),u=o("8418"),d=o("65f0"),h=o("1dde"),f=o("b622"),p=o("2d00"),m=f("isConcatSpreadable"),l=9007199254740991,b="Maximum allowed index exceeded",g=p>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=h("concat"),w=function(t){if(!c(t))return!1;var e=t[m];return void 0!==e?!!e:a(t)},k=!g||!v;n({target:"Array",proto:!0,forced:k},{concat:function(t){var e,o,n,r,a,c=s(this),h=d(c,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?c:arguments[e],w(a)){if(r=i(a),f+r>l)throw TypeError(b);for(o=0;o<r;o++,f++)o in a&&u(h,f,a[o])}else{if(f>=l)throw TypeError(b);u(h,f++,a)}return h.length=f,h}})},cf7a:function(t,e,o){"use strict";o.r(e);var n=o("7a23");function r(t,e,o,r,a,c){var s=Object(n["resolveComponent"])("Loading"),i=Object(n["resolveComponent"])("ProductForm");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[a.isLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0})):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(i,{editItem:a.product,onSubmit:c.updateProduct},null,8,["editItem","onSubmit"])],512),[[n["vShow"],!a.isLoading]])],64)}var a=o("5530"),c=(o("99af"),o("d3b7"),o("b0c0"),o("bc3a")),s=o.n(c),i=o("da51"),u=o("852e"),d=o.n(u),h=o("3a5e"),f={data:function(){return{product:{},isLoading:!1}},components:{ProductForm:i["a"],Loading:h["a"]},methods:{getProduct:function(){var t=this,e="".concat("https://lemon-coffee.herokuapp.com","/admin/products/").concat(this.$route.params.productId,"/edit"),o={Authorization:d.a.get("lemonToken")};this.isLoading=!0,s.a.get(e,{headers:o}).then((function(e){t.product=e.data})).catch((function(e){401===e.response.status&&(d.a.remove("lemonToken"),t.showErrorToast("請重新登入")),t.$router.push("/entrance/login")})).finally((function(){t.isLoading=!1}))},updateProduct:function(t){var e=this;this.product=Object(a["a"])({},t);var o="".concat("https://lemon-coffee.herokuapp.com","/admin/products/").concat(this.product.id),n={Authorization:d.a.get("lemonToken")};this.isLoading=!0,s.a.put(o,this.product,{headers:n}).then((function(t){200===t.status&&(e.showSuccessToast("編輯成功"),e.$router.push("/admin"))})).catch((function(t){401===t.response.status&&(d.a.remove("lemonToken"),e.showErrorToast("請重新登入"),e.$router.push("/entrance/login")),t.response.data.name&&e.showErrorToast("產品名稱不可空白"),t.response.data.roast&&e.showErrorToast("烘焙度不可空白")})).finally((function(){e.isLoading=!1}))},showErrorToast:function(t){this.$toast.add({severity:"error",summary:t,life:5e3})},showSuccessToast:function(t){this.$toast.add({severity:"success",summary:t,life:2e3})}},created:function(){this.getProduct()}},p=o("6b0d"),m=o.n(p);const l=m()(f,[["render",r]]);e["default"]=l}}]);
//# sourceMappingURL=chunk-fda77f9e.cdba28d9.js.map