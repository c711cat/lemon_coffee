(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be75a2ec"],{"153d":function(e,t,n){e.exports=n.p+"img/logo.26a4bffd.png"},"32db":function(e,t,n){"use strict";n.r(t);var o=n("7a23");function r(e,t,n,r,c,i){var a=Object(o["resolveComponent"])("Navbar"),u=Object(o["resolveComponent"])("Toast"),s=Object(o["resolveComponent"])("router-view"),l=Object(o["resolveComponent"])("ScrollTop");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(a),Object(o["createVNode"])(u,{style:{"max-width":"350px"}}),Object(o["createVNode"])(s),Object(o["createVNode"])(l,{threshold:200})],64)}var c=n("153d"),i=n.n(c),a=function(e){return Object(o["pushScopeId"])("data-v-4ae41a70"),e=e(),Object(o["popScopeId"])(),e},u={id:"admin-navbar"},s=a((function(){return Object(o["createElementVNode"])("img",{class:"logo-img",alt:"logo",src:i.a},null,-1)}));function l(e,t,n,r,c,i){var a=Object(o["resolveComponent"])("router-link"),l=Object(o["resolveComponent"])("Button"),p=Object(o["resolveComponent"])("Menu"),d=Object(o["resolveComponent"])("Menubar");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createVNode"])(d,{model:c.items,class:"p-pl-5 p-pr-3 p-py-3"},{start:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{to:"/"},{default:Object(o["withCtx"])((function(){return[s]})),_:1})]})),end:Object(o["withCtx"])((function(){return[c.loggedIn?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"p-button-text p-button-plain",icon:"pi pi-fw pi-user",type:"button",onClick:i.openUserMenu,"aria-haspopup":"true","aria-controls":"overlay_menu"},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0),c.loggedIn?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,id:"overlay_menu",ref:"menu",model:c.userMenuItems,popup:!0},null,8,["model"])):(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:2,to:"/entrance/login",class:"link-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{label:"登入",icon:"pi pi-fw pi-user",class:"p-button-text p-button-plain"})]})),_:1}))]})),_:1},8,["model"])])}n("d3b7");var p=n("852e"),d=n.n(p),f=n("bc3a"),b=n.n(f),m={data:function(){var e=this;return{items:[{label:"豆單",icon:"pi pi-fw pi-book",to:"/admin"},{label:"訂單",icon:"pi pi-fw pi-list",to:"/admin/orders"}],userMenuItems:[{label:"登出",icon:"pi pi-user-minus",command:function(){e.sign_out()}}],loggedIn:""}},methods:{openUserMenu:function(e){this.$refs.menu.toggle(e)},sign_out:function(){var e=this,t="".concat("https://lemon-coffee.herokuapp.com","/users/sign_out");b.a.delete(t).then((function(t){204===t.status&&(d.a.remove("lemonToken"),e.showSuccessToast("已登出"))})).catch((function(t){t&&e.showErrorToast("登出失敗")})).finally((function(){e.loggedIn=d.a.get("lemonToken")}))},showSuccessToast:function(e){this.$toast.add({severity:"success",summary:e,life:2e3})},showErrorToast:function(e){this.$toast.add({severity:"error",summary:e,life:5e3})}},created:function(){this.loggedIn=d.a.get("lemonToken")}},v=(n("6756"),n("6b0d")),g=n.n(v);const h=g()(m,[["render",l],["__scopeId","data-v-4ae41a70"]]);var j=h,O=n("cfb9"),k={data:function(){return{}},components:{Navbar:j},provide:function(){return{emitter:O["a"]}}};const w=g()(k,[["render",r]]);t["default"]=w},6756:function(e,t,n){"use strict";n("7616")},7616:function(e,t,n){},"852e":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var t={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function n(t,o){function r(n,r,c){if("undefined"!==typeof document){c=e({},o,c),"number"===typeof c.expires&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in c)c[a]&&(i+="; "+a,!0!==c[a]&&(i+="="+c[a].split(";")[0]));return document.cookie=n+"="+t.write(r,n)+i}}function c(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var c=n[r].split("="),i=c.slice(1).join("=");try{var a=decodeURIComponent(c[0]);if(o[a]=t.read(i,a),e===a)break}catch(u){}}return e?o[e]:o}}return Object.create({set:r,get:c,remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(t)}})}var o=n(t,{path:"/"});return o}))},cfb9:function(e,t,n){"use strict";var o=function(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map((function(e){e(n)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,n)}))}}},r=o();t["a"]=r}}]);
//# sourceMappingURL=chunk-be75a2ec.eb9af113.js.map