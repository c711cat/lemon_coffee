(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef9e9ade"],{"136c":function(t,e,n){"use strict";n.r(e);var o=n("7a23"),c={key:1,class:"products-wrap"},a={class:"add-btn-container"};function i(t,e,n,i,r,s){var d=Object(o["resolveComponent"])("Loading"),u=Object(o["resolveComponent"])("CleanBeanList");return r.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("button",{type:"button",class:"add-btn",onClick:e[0]||(e[0]=Object(o["withModifiers"])((function(){return s.toAddProduct&&s.toAddProduct.apply(s,arguments)}),["prevent"]))}," 新增產品 ")]),Object(o["createVNode"])(u,{products:r.products,showEditButton:r.showEditButton,disableDrag:r.disableDrag},null,8,["products","showEditButton","disableDrag"])]))}var r=n("2909"),s=(n("d3b7"),n("bc3a")),d=n.n(s),u=n("fb05"),l=n("cfb9"),p=n("852e"),f=n.n(p),b=n("3a5e"),h={data:function(){return{products:[],showEditButton:!0,disableDrag:!1,isLoading:!1}},components:{CleanBeanList:u["a"],Loading:b["a"]},inject:["emitter"],methods:{getProducts:function(){var t=this,e="".concat("https://lemon-coffee.herokuapp.com","/admin/products"),n={Authorization:f.a.get("lemonToken")};this.isLoading=!0,d.a.get(e,{headers:n}).then((function(e){t.products=Object(r["a"])(e.data)})).catch((function(){t.$router.push("/entrance/login")})).finally((function(){t.isLoading=!1}))},toAddProduct:function(){this.$router.push("/admin/products/new")}},created:function(){var t=this;f.a.get("lemonToken")?this.getProducts():this.$router.push("/entrance/login"),l["a"].on("refreshBeanList",(function(){t.getProducts()}))}},g=(n("6c57"),n("6b0d")),m=n.n(g);const v=m()(h,[["render",i],["__scopeId","data-v-08b9f638"]]);e["default"]=v},"6c57":function(t,e,n){"use strict";n("bce9")},bce9:function(t,e,n){},cfb9:function(t,e,n){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o?o.push(n):t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var o=t.get(e);o&&o.slice().map((function(t){t(n)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,n)}))}}},c=o();e["a"]=c}}]);
//# sourceMappingURL=chunk-ef9e9ade.18bb9cef.js.map